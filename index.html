<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EchoVerse ‚Äî Your emotions become worlds</title>
  <meta name="description" content="EchoVerse ‚Äî –≤–µ–±‚Äë–¥–æ—Å–≤—ñ–¥, –¥–µ —Ç–≤–æ—ó –µ–º–æ—Ü—ñ—ó –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ 3D —Å–≤—ñ—Ç–∏. –í–≤–µ–¥–∏ –Ω–∞—Å—Ç—Ä—ñ–π ‚Äî –∑–≥–µ–Ω–µ—Ä—É–π —Å–≤—ñ—Ç ‚Äî –¥–æ—Å–ª—ñ–¥–∂—É–π —ñ –¥—ñ–ª–∏—Å—å." />
  <meta property="og:title" content="EchoVerse ‚Äî Your emotions become worlds" />
  <meta property="og:description" content="–í–≤–µ–¥–∏ –µ–º–æ—Ü—ñ—é ‚Äî –æ—Ç—Ä–∏–º–∞–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π 3D‚Äë—Å–≤—ñ—Ç. –í—ñ—Ä—É—Å–Ω–∏–π AI √ó WebGL –¥–æ—Å–≤—ñ–¥ –¥–ª—è –≤—Å—ñ—Ö." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://dummyimage.com/1200x630/0b1220/ffffff&text=EchoVerse" />
  <meta name="theme-color" content="#0b1220" />

  <!-- Tailwind via CDN (no build step) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { colors: { bg:'#0b1220', ink:'#E6F0FF', mute:'#9AB3C7', acc:'#7C5CFF', acc2:'#0FF0FC' } } } }
  </script>
  <style>
    html,body{background:#0b1220; color:#E6F0FF}
    .glass{background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); box-shadow:0 10px 40px rgba(0,0,0,.4);}
    .grad-text{background:linear-gradient(90deg,#7C5CFF, #0FF0FC); -webkit-background-clip:text; background-clip:text; color:transparent}
    .btn{transition:transform .2s ease}
    .btn:active{transform:translateY(1px)}
    canvas{display:block}
  </style>

  <!-- Three.js / helpers -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://unpkg.com/simplex-noise@4.0.1/dist/esm/simplex-noise.min.js"></script>
</head>
<body class="antialiased">
  <!-- NAV -->
  <header class="fixed top-0 left-0 right-0 z-40">
    <div class="max-w-7xl mx-auto px-4">
      <div class="glass mt-4 rounded-2xl px-4 py-3 flex items-center justify-between">
        <a href="#" class="font-semibold tracking-tight text-xl">Echo<span class="grad-text">Verse</span></a>
        <nav class="hidden md:flex gap-6 text-sm text-mute">
          <a href="#how" class="hover:text-ink">How it works</a>
          <a href="#demo" class="hover:text-ink">Live demo</a>
          <a href="#gallery" class="hover:text-ink">Gallery</a>
          <a href="#pitch" class="hover:text-ink">Pitch</a>
        </nav>
        <a href="#waitlist" class="btn bg-acc text-bg px-4 py-2 rounded-xl font-semibold shadow hover:opacity-90">Join waitlist</a>
      </div>
    </div>
  </header>

  <!-- HERO with WebGL canvas background -->
  <section class="relative pt-28 md:pt-36" id="top">
    <div class="absolute inset-0 -z-10 overflow-hidden">
      <canvas id="world" class="w-full h-full"></canvas>
      <div class="pointer-events-none absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(124,92,255,.25),transparent_60%)]"></div>
    </div>

    <div class="max-w-7xl mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-8 items-center">
        <div class="space-y-6">
          <h1 class="text-4xl md:text-6xl font-extrabold leading-tight">
            Your emotions <span class="grad-text">become worlds</span>
          </h1>
          <p class="text-mute md:text-lg max-w-xl">–ù–∞–ø–∏—à–∏ ¬´—è —Å–ø–æ–∫—ñ–π–Ω–∏–π —ñ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω–∏–π¬ª ‚Äî —ñ –ø–æ–±–∞—á —Å–≤—ñ—Ç, —è–∫–∏–π –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Ç–≤—ñ–π —Å—Ç–∞–Ω. –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π AI √ó 3D –¥–æ—Å–≤—ñ–¥ —É –±—Ä–∞—É–∑–µ—Ä—ñ.</p>
          <div class="flex flex-col sm:flex-row gap-3">
            <a href="#demo" class="btn bg-white/90 text-bg px-5 py-3 rounded-xl font-semibold text-sm sm:text-base">Try live demo</a>
            <a href="#pitch" class="btn bg-white/10 backdrop-blur px-5 py-3 rounded-xl font-semibold">Read the pitch</a>
          </div>
          <div class="text-xs text-mute">No account needed ‚Ä¢ Works on desktop & mobile ‚Ä¢ WebGL</div>
        </div>
        <div class="glass rounded-3xl p-4 md:p-6">
          <div class="rounded-xl bg-black/30 border border-white/5 p-4">
            <label class="block text-sm text-mute mb-2">Enter mood / emotion</label>
            <div class="flex gap-2">
              <input id="prompt" class="w-full bg-white/5 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-acc/60" placeholder="lonely but hopeful" />
              <button id="genBtn" class="btn bg-acc text-bg px-4 py-3 rounded-xl font-semibold">Generate</button>
            </div>
            <p class="text-[12px] text-mute mt-2">–î–µ–º–æ –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ: –º–∏ –º–∞–ø–∏–º–æ –µ–º–æ—Ü—ñ—ó ‚Üí –ø–∞–ª—ñ—Ç—Ä—É ‚Üí –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —à—É–º—É —Ç–∞ —Å–≤—ñ—Ç–ª–∞.</p>
          </div>
          <div class="grid grid-cols-3 gap-2 mt-3 text-xs text-center">
            <button class="preset btn glass rounded-lg py-2" data-prompt="calm and inspired">calm</button>
            <button class="preset btn glass rounded-lg py-2" data-prompt="anxious but determined">focus</button>
            <button class="preset btn glass rounded-lg py-2" data-prompt="joyful and playful">joy</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- HOW -->
  <section id="how" class="py-20">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-6">
        <div class="glass rounded-2xl p-6">
          <div class="text-2xl font-bold mb-2">1 ‚Üí Type</div>
          <p class="text-mute">–í–≤–µ–¥–∏ –µ–º–æ—Ü—ñ—é –∞–±–æ —Ñ—Ä–∞–∑—É. –ú–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ–∫—Å—Ç –Ω–∞ –≤–µ–∫—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ—é.</p>
        </div>
        <div class="glass rounded-2xl p-6">
          <div class="text-2xl font-bold mb-2">2 ‚Üí Generate</div>
          <p class="text-mute">–ê–ª–≥–æ—Ä–∏—Ç–º –º–∞–ø–∏—Ç—å –Ω–∞—Å—Ç—Ä—ñ–π –Ω–∞ –ø–∞–ª—ñ—Ç—Ä—É, –≥–µ–æ–º–µ—Ç—Ä—ñ—é —Ç–∞ —Å–≤—ñ—Ç —Å—Ü–µ–Ω–∏.</p>
        </div>
        <div class="glass rounded-2xl p-6">
          <div class="text-2xl font-bold mb-2">3 ‚Üí Explore</div>
          <p class="text-mute">–î–æ—Å–ª—ñ–¥–∂—É–π 3D‚Äë—Å–≤—ñ—Ç, –¥—ñ–ª–∏—Å—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –∞–±–æ –∑–±–µ—Ä—ñ–≥–∞–π seed –¥–ª—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- DEMO note -->
  <section id="demo" class="py-4">
    <div class="max-w-7xl mx-auto px-4">
      <div class="glass rounded-2xl p-6">
        <h2 class="text-2xl md:text-3xl font-bold mb-3">Live demo (on‚Äëpage)</h2>
        <p class="text-mute">–¶–µ–π –¥–µ–º–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–æ–≤–Ω—ñ—à–Ω—ñ–π AI ‚Äî —É—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ. –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–æ–¥—É–∫—Ç—ñ –ø—ñ–¥–∫–ª—é—á–∏–º–æ LLM/—ç–º–±–µ–¥—ñ–Ω–≥–∏ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –µ–º–æ—Ü—ñ–π–Ω–æ–≥–æ –º–∞–ø—ñ–Ω–≥—É.</p>
      </div>
    </div>
  </section>

  <!-- GALLERY (placeholders driven by canvas snapshots) -->
  <section id="gallery" class="py-20">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between mb-6">
        <h2 class="text-2xl md:text-3xl font-bold">Gallery</h2>
        <button id="snap" class="btn glass rounded-xl px-4 py-2">Save snapshot</button>
      </div>
      <div id="shots" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    </div>
  </section>
<!-- AI image demo (self-hosted) -->
<section id="ai" class="py-20">
  <div class="max-w-7xl mx-auto px-4">
    <div class="glass rounded-3xl p-6">
      <h2 class="text-2xl md:text-3xl font-bold mb-3">AI image demo</h2>
      <p class="text-mute mb-3">–ì–µ–Ω–µ—Ä—É—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Ç–≤—ñ–π –ª–æ–∫–∞–ª—å–Ω–∏–π AI-—Å–µ—Ä–≤–µ—Ä.</p>
      <div class="flex flex-col md:flex-row gap-3">
        <input id="aiPrompt" class="w-full bg-white/5 rounded-xl px-4 py-3 outline-none"
               placeholder="neon dreamy city at night, reflective water" />
        <button id="aiBtn" class="btn bg-acc text-bg px-5 py-3 rounded-xl font-semibold">
          Generate image
        </button>
      </div>
      <div id="aiStatus" class="text-xs text-mute mt-2"></div>
      <div id="aiShots" class="grid md:grid-cols-2 gap-4 mt-4"></div>
    </div>
  </div>
</section>

  <!-- PITCH -->
  <section id="pitch" class="py-20">
    <div class="max-w-5xl mx-auto px-4">
      <div class="glass rounded-3xl p-8">
        <h2 class="text-2xl md:text-4xl font-extrabold mb-4">Why EchoVerse will trend</h2>
        <ul class="list-disc pl-6 space-y-2 text-mute">
          <li><span class="text-ink">UGC flywheel:</span> –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ç–≤–æ—Ä–∏—Ç—å –≤–ª–∞—Å–Ω–∏–π —Å–≤—ñ—Ç ‚Üí –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç.</li>
          <li><span class="text-ink">Shareability:</span> –∫–æ—Ä–æ—Ç–∫—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ ¬´–µ–º–æ—Ü—ñ–π–Ω—ñ —Å–≤—ñ—Ç–∏¬ª, —ñ–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–æ—Ü–º–µ—Ä–µ–∂.</li>
          <li><span class="text-ink">Cross‚Äëplatform:</span> WebGL —É –±—Ä–∞—É–∑–µ—Ä—ñ + –º–æ–±—ñ–ª—å–Ω—ñ –æ–±–≥–æ—Ä—Ç–∫–∏ (Capacitor).</li>
          <li><span class="text-ink">Monetization‚Äëready:</span> –ª–∞–π—Ç–æ–≤–∏–π AI‚Äë–ø–∞—Å, –ø–ª–∞—Ç–Ω—ñ —Å–∫—ñ–Ω–∏/—Å—Ü–µ–Ω–∏, –±—Ä–µ–Ω–¥‚Äë—Å–≤—ñ—Ç–∏.</li>
          <li><span class="text-ink">Buyer fit:</span> –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è Google/YouTube Music, Epic, Poki, CrazyGames, Meta.</li>
        </ul>
        <div class="mt-6 grid md:grid-cols-2 gap-4">
          <div class="glass rounded-2xl p-4">
            <div class="font-semibold mb-1">Tech stack</div>
            <div class="text-mute text-sm">Three.js ‚Ä¢ Tailwind ‚Ä¢ Optional: FastAPI + Vector DB –¥–ª—è mood‚Äë–µ–º–±–µ–¥—ñ–Ω–≥—ñ–≤</div>
          </div>
          <div class="glass rounded-2xl p-4">
            <div class="font-semibold mb-1">Growth</div>
            <div class="text-mute text-sm">TikTok/Reels –¥–µ–º–∫–∏, –∫–æ–º º—é–Ω—ñ—Ç—ñ —á–µ–ª–µ–Ω–¥–∂—ñ ¬´#MyMoodWorld¬ª, –ø–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ —Å–≤—ñ—Ç–∏ –∞—Ä—Ç–∏—Å—Ç—ñ–≤.</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section id="waitlist" class="py-20">
    <div class="max-w-3xl mx-auto px-4 text-center">
      <div class="glass rounded-3xl p-8">
        <h3 class="text-2xl md:text-3xl font-bold mb-2">Get early access</h3>
        <p class="text-mute mb-4">–ü–µ—Ä—à–∏–º–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—É –∞–ª—å—Ñ—É –∑ —Ä–µ–∞–ª—å–Ω–∏–º AI‚Äë–º–∞–ø—ñ–Ω–≥–æ–º –µ–º–æ—Ü—ñ–π.</p>
        <form id="wl" class="flex flex-col sm:flex-row gap-3 justify-center">
          <input required type="email" placeholder="you@email" class="w-full sm:w-96 bg-white/5 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-acc/60" />
          <button class="btn bg-acc text-bg px-5 py-3 rounded-xl font-semibold">Join</button>
        </form>
        <p id="wlMsg" class="text-xs text-mute mt-2">–ú–∏ –∑–±–µ—Ä–µ–∂–µ–º–æ –ª–∏—à–µ email –ª–æ–∫–∞–ª—å–Ω–æ (–¥–µ–º–æ).</p>
      </div>
      <p class="text-[11px] text-mute mt-3">¬© EchoVerse. MIT demo. Designed for acquisition pitch.</p>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="pb-10">
    <div class="max-w-7xl mx-auto px-4 text-xs text-mute">
      <div class="flex flex-col md:flex-row gap-2 md:gap-6 justify-between">
        <div>Made by Dmytro ‚Ä¢ <a class="underline" href="#top">Back to top</a></div>
        <div>Deploy: push <code>index.html</code> to GitHub ‚Üí Settings ‚Üí Pages ‚Üí Source: <em>Main / Root</em></div>
      </div>
    </div>
  </footer>

  <script>
  // ====== EchoVerse demo world (procedural) ======
  const canvas = document.getElementById('world');
  const renderer = new THREE.WebGLRenderer({canvas, antialias:true, alpha:true});
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(55, 16/9, 0.1, 1000);
  camera.position.set(0, 1.2, 3.4);
  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true; controls.dampingFactor = 0.05; controls.enablePan = false; controls.minDistance = 2; controls.maxDistance = 6;

  // resize
  function fit(){
    const w = canvas.clientWidth, h = Math.max(canvas.clientHeight, 420);
    renderer.setSize(w, h, false); camera.aspect = w/h; camera.updateProjectionMatrix();
  }
  window.addEventListener('resize', fit); fit();

  // lights
  const hemi = new THREE.HemisphereLight(0x88ccff, 0x081018, 1.0); scene.add(hemi);
  const dir = new THREE.DirectionalLight(0xffffff, 0.9); dir.position.set(3,4,2); scene.add(dir);

  // ground plane (foggy disk)
  const groundGeo = new THREE.CircleGeometry(20, 64);
  const groundMat = new THREE.MeshBasicMaterial({color:0x0d1624, transparent:true, opacity:0.6});
  const ground = new THREE.Mesh(groundGeo, groundMat); ground.rotation.x = -Math.PI/2; ground.position.y = -1.1; scene.add(ground);

  // sky particles
  const stars = new THREE.Points(
    new THREE.BufferGeometry(),
    new THREE.PointsMaterial({size:0.01, color:0x7C5CFF})
  );
  const starCount = 1200; const positions = new Float32Array(starCount*3);
  for(let i=0;i<starCount;i++){ positions[i*3+0]=(Math.random()-0.5)*18; positions[i*3+1]=Math.random()*6; positions[i*3+2]=(Math.random()-0.5)*18; }
  stars.geometry.setAttribute('position', new THREE.BufferAttribute(positions,3));
  scene.add(stars);

  // planet (lowpoly sphere with noise)
  const planetGeo = new THREE.IcosahedronGeometry(1, 5);
  const planetMat = new THREE.MeshStandardMaterial({color:0x4cc9f0, roughness:0.6, metalness:0.1, flatShading:true});
  const planet = new THREE.Mesh(planetGeo, planetMat); scene.add(planet);

  // noise
  const simplex = new SimplexNoise('seed');
  function displace(amp=0.25, freq=1.2){
    const pos = planet.geometry.attributes.position;
    for(let i=0;i<pos.count;i++){
      const vx = pos.getX(i), vy = pos.getY(i), vz = pos.getZ(i);
      const n = simplex.noise3D(vx*freq, vy*freq, vz*freq);
      const m = 1 + n*amp;
      const v = new THREE.Vector3(vx,vy,vz).normalize().multiplyScalar(m);
      pos.setXYZ(i, v.x, v.y, v.z);
    }
    planet.geometry.computeVertexNormals(); pos.needsUpdate = true;
  }

  // mood ‚Üí params
  function moodToParams(text){
    text = (text||'').toLowerCase();
    let amp=0.2,freq=1.2, hue=210, sat=70, light=60, glow=0x7C5CFF;
    if(text.includes('calm')||text.includes('—Å–ø–æ–∫')){ amp=0.12; hue=200; sat=55; light=70; glow=0x0FF0FC; }
    if(text.includes('joy')||text.includes('—Ä–∞–¥—ñ')||text.includes('happy')){ amp=0.18; hue=300; sat=80; light=65; glow=0xff8bd1; }
    if(text.includes('anx')||text.includes('—Ç—Ä–∏–≤')){ amp=0.26; freq=1.6; hue=210; sat=60; light=55; glow=0x7C5CFF; }
    if(text.includes('dark')||text.includes('sad')||text.includes('—Å—É–º')){ amp=0.28; freq=1.4; hue=220; sat=35; light=45; glow=0x5462ff; }
    return {amp,freq,hsl:`hsl(${hue} ${sat}% ${light}%)`, glow};
  }

  function applyMood(text){
    const p = moodToParams(text);
    // recolor
    planet.material.color = new THREE.Color(p.hsl);
    hemi.color = new THREE.Color(p.hsl);
    // reset geometry & re-displace (recreate for clean base)
    planet.geometry.dispose();
    planet.geometry = new THREE.IcosahedronGeometry(1,5);
    displace(p.amp, p.freq);
    // star glow
    stars.material.color = new THREE.Color(p.glow);
    // subtle pulse
    pulseTarget = 0.015 + p.amp*0.02;
  }

  // animate
  let t=0, pulse=0, pulseTarget=0.02;
  function tick(){
    t+=0.005; controls.update();
    planet.rotation.y += 0.0025;
    // star twinkle
    pulse += (pulseTarget - pulse)*0.02;
    stars.rotation.y -= 0.0005;
    stars.position.y = Math.sin(t*0.6)*0.05;
    // slight breathing
    const s = 1.0 + Math.sin(t*0.9)*pulse;
    planet.scale.setScalar(s);
    renderer.render(scene, camera);
    requestAnimationFrame(tick);
  }
  tick();

  // UI wiring
  const prompt = document.getElementById('prompt');
  const genBtn = document.getElementById('genBtn');
  const presets = document.querySelectorAll('.preset');
  genBtn.addEventListener('click', ()=> applyMood(prompt.value || 'calm and inspired'));
  presets.forEach(b=>b.addEventListener('click', ()=>{ prompt.value=b.dataset.prompt; applyMood(prompt.value); }));
  // initial mood
  applyMood('calm and inspired');

  // gallery snapshots
  const snapBtn = document.getElementById('snap');
  const shots = document.getElementById('shots');
  snapBtn.addEventListener('click', ()=>{
    const data = renderer.domElement.toDataURL('image/png');
    const img = new Image(); img.src=data; img.className='w-full h-56 object-cover rounded-xl border border-white/10';
    const card = document.createElement('div'); card.className='glass rounded-2xl p-2'; card.appendChild(img);
    shots.prepend(card);
  });

  // waitlist demo (local only)
  document.getElementById('wl').addEventListener('submit', (e)=>{
    e.preventDefault();
    const email = e.target.querySelector('input').value.trim();
    const list = JSON.parse(localStorage.getItem('echov_wl')||'[]');
    list.push({email, at: Date.now()});
    localStorage.setItem('echov_wl', JSON.stringify(list));
    document.getElementById('wlMsg').textContent = 'Saved locally. (For prod ‚Äî hook to Formspree / your API)';
    e.target.reset();
  });
  </script>
  <script>
  // üîó –í–∫–∞–∂–∏ –∞–¥—Ä–µ—Å—É —Ç–≤–æ–≥–æ –±–µ–∫–µ–Ω–¥–∞:
  // –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É (–∑–≤–∏—á–∞–π–Ω–∏–π Chrome/Safari, –±–µ–∑ –ø—Ä–æ–∫—Å—ñ):
  //   const API = 'http://127.0.0.1:8000';
  // –î–ª—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ —Å–∞–π—Ç—É –Ω–∞ GitHub Pages (—á–µ—Ä–µ–∑ ngrok –∞–±–æ VPS):
  //   const API = 'https://<—Ç–≤—ñ–π-ngrok-subdomain>.ngrok-free.app';
  //   –∞–±–æ const API = 'https://api.googleadschile.site';
  const API = 'http://127.0.0.1:8000';

  const aiBtn = document.getElementById('aiBtn');
  const aiPrompt = document.getElementById('aiPrompt');
  const aiStatus = document.getElementById('aiStatus');
  const aiShots = document.getElementById('aiShots');

  async function gen() {
    const prompt = (aiPrompt.value || '').trim();
    if (!prompt) { aiStatus.textContent = '–í–≤–µ–¥–∏ –æ–ø–∏—Å (prompt)'; return; }
    aiStatus.textContent = '–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è...';
    aiBtn.disabled = true;

    try {
      const res = await fetch(API + '/txt2img', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ prompt, width: 384, height: 384, steps: 4, guidance: 1.0 })
      });
      if (!res.ok) throw new Error('API ' + res.status);
      const data = await res.json();

      // —Å—Ç–≤–æ—Ä—é—î–º–æ –∫–∞—Ä—Ç–∏–Ω–∫—É –∑ base64
      const img = new Image();
      img.src = 'data:image/png;base64,' + data.image_b64;
      img.className = 'w-full rounded-2xl border border-white/10';

      // –∫–∞—Ä—Ç–∫–∞ —É –≥–∞–ª–µ—Ä–µ—ó
      const card = document.createElement('div');
      card.className = 'glass p-2 rounded-2xl';
      card.appendChild(img);
      const meta = document.createElement('div');
      meta.className = 'text-[11px] text-mute mt-1';
      meta.textContent = `ready ‚Ä¢ ${data.took_ms} ms`;
      card.appendChild(meta);

      aiShots.prepend(card);
      aiStatus.textContent = '–ì–æ—Ç–æ–≤–æ';
    } catch (e) {
      aiStatus.textContent = '–ü–æ–º–∏–ª–∫–∞: ' + e.message +
        (API.includes('localhost') || API.includes('127.0.0.1')
          ? ' (–ø–∞–º‚Äô—è—Ç–∞–π: GitHub Pages –Ω–µ –º–æ–∂–µ –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—å –¥–æ localhost)'
          : '');
    } finally {
      aiBtn.disabled = false;
    }
  }

  if (aiBtn) aiBtn.addEventListener('click', gen);
</script>
</body>
</html>
